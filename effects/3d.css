/* CSS 3D Gift Box */
.stage3d { position: relative; z-index: 1; padding: 40px 0 60px; }
.stage3d .wrap { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 18px; align-items: center; }
.gift-box-stage { display: grid; place-items: center; min-height: 260px; }
.gift-box { position: relative; width: 140px; height: 140px; transform-style: preserve-3d; animation: box-spin 10s linear infinite; cursor: pointer; }
.gift-box .face { position: absolute; width: 140px; height: 140px; background: linear-gradient(135deg, #e63946 0%, #a61b2b 100%); border: 2px solid rgba(0,0,0,0.12); }
.gift-box .face::after { content: ""; position: absolute; left: 50%; top: 0; width: 18px; height: 100%; transform: translateX(-50%); background: linear-gradient(180deg, #ffd166, #ffb703); }
.gift-box .top { transform: rotateX(90deg) translateZ(70px); height: 140px; width: 140px; background: linear-gradient(135deg, #e63946, #a61b2b); transform-origin: 50% 50%; transition: transform 600ms ease; }
.gift-box .top::after { content: ""; position: absolute; top: 50%; left: 0; height: 18px; width: 100%; transform: translateY(-50%); background: linear-gradient(90deg, #ffd166, #ffb703); }
.gift-box .bottom { transform: rotateX(-90deg) translateZ(70px); }
.gift-box .front { transform: translateZ(70px); }
.gift-box .back { transform: rotateY(180deg) translateZ(70px); }
.gift-box .left { transform: rotateY(-90deg) translateZ(70px); }
.gift-box .right { transform: rotateY(90deg) translateZ(70px); }
@keyframes box-spin { from { transform: rotateX(-8deg) rotateY(0deg); } to { transform: rotateX(-8deg) rotateY(360deg); } }
.gift-box:hover { animation-play-state: paused; }

/* Open lid state */
.gift-box.open { animation-play-state: paused; }
.gift-box.open .top { transform: rotateX(30deg) translateZ(70px) translateY(-6px); }

/* Three.js stage container */
#three-stage { position: relative; min-height: 260px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.12); background: radial-gradient(ellipse at 50% 120%, rgba(255,255,255,0.08), rgba(255,255,255,0.02)); overflow: hidden; }
#three-stage canvas { display: block; width: 100%; height: 100%; }

/* Controls */
.stage3d .controls { display: flex; gap: 12px; justify-content: center; margin-top: 10px; }
